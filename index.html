<html>
<script type="text/javascript" src="/elm-runtime.js"></script>
<script type="text/javascript" src="build/Main.js"></script>
<style>
.selected {
  border: 1px solid blue;
  background: #99f;
}
.cursor {
  width: 0px;
  overflow: visible;
  position: relative;
  left: -0.3em;
  top: 0.7em;
  display: inline-block;
  color: red;
}
</style>
<body></body>
<script>
var runningElmModule = Elm.fullscreen(Elm.Main, { downsIn: 0, pressesIn: ""});

var specialKeys = {
  '8': 'backspace',
  '37': 'left',
  '38': 'up',
  '39': 'right',
  '40': 'down',
  '91': 'meta'
}

document.onkeydown = function(e) {
  if (specialKeys[e.keyCode.toString()]) {
    runningElmModule.ports.downsIn.send(e.keyCode);
    e.preventDefault();
  }
}

document.onkeypress = function(e) {
  var evt = evt || window.event;
  var charCode = evt.which || evt.keyCode;
  var charTyped = String.fromCharCode(charCode);
  runningElmModule.ports.pressesIn.send(charTyped);
  e.preventDefault();
}
</script>
</html>